@model V2OAuthFlowDefinitionViewModel
@{
    var flowType = this.Model.FlowType;
    var flow = this.Model.Flow;
    var reference = $"{this.Model.ParentRef}_flows_{flowType.Replace(" ", string.Empty).ToLowerInvariant()}";
}

<div class="card my-3">
    <a data-bs-toggle="collapse" href="#@reference" role="button" aria-expanded="false">
        <div class="card-header">
            <span class="text-secondary fw-bold">@flowType</span>
        </div>
    </a>
    <div id="@reference" class="card-body collapse show">
        <div class="card border-0">
            <div class="card-body m-0 p-0">
                @if(flow.AuthorizationUrl != null)
                {
                    <div class="row">
                        <div class="col-2">
                            <small class="text-secondary">Authorization Url</small>
                            <small class="bi bi-info-circle text-secondary ms-1" role="button" data-bs-toggle="tooltip" data-bs-placement="bottom" title="The authorization URL to be used for this flow"></small>
                        </div>
                        <div class="col-2"><small class="badge border border-muted text-secondary">@flow.AuthorizationUrl</small></div>
                    </div>
                }
                @if(flow.TokenUrl != null)
                {
                    <div class="row">
                        <div class="col-2">
                            <small class="text-secondary">Token Url</small>
                            <small class="bi bi-info-circle text-secondary ms-1" role="button" data-bs-toggle="tooltip" data-bs-placement="bottom" title="The token URL to be used for this flow"></small>
                        </div>
                        <div class="col-2"><small class="badge border border-muted text-secondary">@flow.TokenUrl</small></div>
                    </div>
                }
                @if (flow.RefreshUrl != null)
                {
                    <div class="row">
                        <div class="col-2">
                            <small class="text-secondary">Refresh Url</small>
                            <small class="bi bi-info-circle text-secondary ms-1" role="button" data-bs-toggle="tooltip" data-bs-placement="bottom" title="The refresh URL to be used for this flow"></small>
                        </div>
                        <div class="col-2"><small class="badge border border-muted text-secondary">@flow.RefreshUrl</small></div>
                    </div>
                }
                @if(flow.Scopes != null && flow.Scopes.Any())
                {
                    <div class="row">
                        <div class="col-2">
                            <small class="text-secondary">Scopes</small>
                            <small class="bi bi-info-circle text-secondary ms-1" role="button" data-bs-toggle="tooltip" data-bs-placement="bottom" title="The refresh URL to be used for this flow"></small>
                        </div>
                        <div class="col-2">
                            @foreach(var scope in flow.Scopes)
                            {
                                <small class="badge border border-muted text-secondary" role="button" data-bs-toggle="tooltip" data-bs-placement="bottom" title="@scope.Value">@scope.Key</small>
                            }
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>